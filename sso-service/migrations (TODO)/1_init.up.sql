CREATE TABLE IF NOT EXISTS users (
    id              INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    email           TEXT NOT NULL UNIQUE,
    pass_hash BLOB  bytea NOT NULL,
    is_admin        BOOLEAN NOT NULL
);
CREATE INDEX IF NOT EXISTS idx_email ON users(email);

CREATE TABLE IF NOT EXISTS apps (
    id     INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    name   TEXT NOT NULL UNIQUE,
    secret TEXT NOT NULL UNIQUE DEFAULT false
);